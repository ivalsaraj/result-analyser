/*
* QuickAccord v1.0.0 Copyright (c) 2016 AJ Savino
* MIT LICENSE
*/
var QuickAccord={DATA_ATTR_TARGET:"data-accord-target",DATA_ATTR_GROUP:"data-accord-group",CLASS_EXPANDED:"expanded",CLASS_COLLAPSED:"collapsed",CLASS_ANIMATING:"is-animating"};!function(a){a.fn.QuickAccord=function(b){return this.filter("a,["+QuickAccord.DATA_ATTR_TARGET+"]").each(function(){var b={_$this:a(this)},c={init:function(){var a=b._$this,e=a.attr(QuickAccord.DATA_ATTR_TARGET)||a.attr("href")||null;if(e){var f=/^#(\w+)/i.exec(e);f&&a.attr("aria-controls",f[1])}c.isExpanded()?c.expand():c.collapse(),a.off("click",c._handler_trigger_click),a.on("click",c._handler_trigger_click)},destroy:function(){var d=b._$this;d.removeClass(CLASS_EXPANDED),d.removeClass(CLASS_COLLAPSED),d.removeAttr("aria-expanded"),d.removeAttr("aria-controls"),d.off("click",c._handler_trigger_click);var e=c._resolveTargets(d);e&&(e.css("height","auto"),e.removeClass(QuickAccord.CLASS_EXPANDING),e.removeClass(QuickAccord.CLASS_EXPANDED),e.removeClass(QuickAccord.CLASS_COLLAPSING),e.removeClass(QuickAccord.CLASS_COLLAPSED),e.removeAttr("aria-expanded"),e.each(function(){QuickAccord.TransitionHelper.offTransitionComplete(a(this))}))},_handler_trigger_click:function(a){return a.preventDefault(),c.toggle(),!1},toggle:function(a){c.isExpanded()?c.collapse(a):c.expand(a)},collapse:function(d){d=d||b._$this,d.removeClass(QuickAccord.CLASS_EXPANDED),d.addClass(QuickAccord.CLASS_COLLAPSED),d.attr("aria-expanded","false");var e=c._resolveTargets(d);if(!e)throw new Error("Could not resolve target");e.each(function(){var b=a(this);b.outerHeight()>0&&(b.addClass(QuickAccord.CLASS_ANIMATING),QuickAccord.TransitionHelper.onTransitionComplete(b,c._handler_collapse_complete),b.css("height","0"))}),e.attr("aria-expanded","false")},_handler_collapse_complete:function(b){var c=a(b.target);QuickAccord.TransitionHelper.offTransitionComplete(c),c.removeClass(QuickAccord.CLASS_ANIMATING),c.removeClass(QuickAccord.CLASS_EXPANDED),c.addClass(QuickAccord.CLASS_COLLAPSED)},expand:function(d){d=d||b._$this,d.removeClass(QuickAccord.CLASS_COLLAPSED),d.addClass(QuickAccord.CLASS_EXPANDED),d.attr("aria-expanded","true");var e=null,f=d.attr(QuickAccord.DATA_ATTR_GROUP)||null;f&&(e=a("["+QuickAccord.DATA_ATTR_GROUP+"='"+f+"']").filter("a,["+QuickAccord.DATA_ATTR_TARGET+"]").not(d),e.each(function(){c.collapse(a(this))}));var g=c._resolveTargets(d);if(!g)throw new Error("Could not resolve target");g.each(function(){var b=a(this),d=b.hasClass(QuickAccord.CLASS_EXPANDED)&&!b.hasClass(QuickAccord.CLASS_ANIMATING),e=b.outerHeight();b.css("height","auto");var f=b.outerHeight();d||(b.addClass(QuickAccord.CLASS_ANIMATING),QuickAccord.TransitionHelper.onTransitionComplete(b,c._handler_expand_complete),b.css("height",e+"px")),b.css("height"),b.css("height",f+"px")}),g.removeClass(QuickAccord.CLASS_COLLAPSED),g.addClass(QuickAccord.CLASS_EXPANDED),g.attr("aria-expanded","true")},_handler_expand_complete:function(b){var c=a(b.target);QuickAccord.TransitionHelper.offTransitionComplete(c),c.removeClass(QuickAccord.CLASS_ANIMATING),c.removeClass(QuickAccord.CLASS_COLLAPSED),c.addClass(QuickAccord.CLASS_EXPANDED)},isExpanded:function(d){if(d=d||b._$this,d.hasClass(QuickAccord.CLASS_COLLAPSED))return!1;if(d.hasClass(QuickAccord.CLASS_EXPANDED))return!0;var e=c._resolveTargets(d);if(e&&e.length){var f=a(e[0]);if(f.hasClass(QuickAccord.CLASS_EXPANDED))return!0;if(f.hasClass(QuickAccord.CLASS_COLLAPSED))return!1}return!1},_resolveTargets:function(b){var c=null,d=b.attr(QuickAccord.DATA_ATTR_TARGET)||b.attr("href")||null;return d&&(c=a(d)),c}};this.quickAccord={init:c.init,destroy:c.destroy,toggle:c.toggle,collapse:c.collapse,expand:c.expand,isExpanded:c.isExpanded},c.init()})}}(jQuery),QuickAccord.TransitionHelper=function(){for(var a=null,b=null,c=[["webkitTransition","webkitTransitionEnd","-webkit-"],["transition","transitionend",""]],d=c.length,e=0;e<d&&"undefined"==typeof document.documentElement.style[c[e][0]];e++);e!=d&&(a=c[e][1],b=c[e][2]);var f={hasTransition:function(a){var c=a[0];return"undefined"!=typeof document.documentElement.currentStyle?parseFloat(c.currentStyle[b+"transition-duration"])>0:parseFloat(window.getComputedStyle(c)[b+"transition-duration"])>0},onTransitionComplete:function(b,c){a&&f.hasTransition(b)?b.on(a,c):c({target:b[0]})},offTransitionComplete:function(b,c){a&&("undefined"!=typeof c?b.off(a,c):b.off(a))}};return f}();